<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Advanced Encode / Decode Tool</title>
<style>
  /* Core layout */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f5f5f5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.container {
  width: 100%;
  max-width: 500px; /* desktop limit */
  margin: 10px auto;
  background: #fff;
  padding: 10px;
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

/* Input / output areas */
textarea#inputText {
  width: 100%;
  min-height: 140px;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #d0d7de;
  font-size: 15px;
  resize: vertical;
  line-height: 1.45;
  overflow: auto;
}

/* Buttons row - wraps on small screens */
button {
    background: #007bff;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin: 5px 0;
  }
  button:hover { 
    opacity: 0.8; 
    background: #6c757d;
  }

  /* Output area */
.result {
  margin-top: 12px;
  background: #0f172a10; /* soft background */
  padding: 10px;
  border-radius: 8px;
  min-height: 90px;
  max-height: 45vh; /* responsive */
  overflow: auto; /* enable scroll inside box */
  white-space: pre-wrap; /* keep newlines */
  word-break: break-word; /* prevent overflow by breaking long words/URLs */
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  font-size: 13px;
  line-height: 1.4;
}

/* Small helper row for copy/clear */
.controls {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

/* Mobile tweaks */
@media (max-width: 600px) {
  .container { padding: 12px; margin: 10px; border-radius: 8px; }
  button.tool-btn { min-width: 44%; font-size: 13px; padding: 9px 8px; }
  .result { font-size: 13px; max-height: 40vh; }
}
</style>
</head>
<body>
<div class="container">
<h2>Advanced Encode / Decode Tool</h2>  
<textarea id="inputText" placeholder="Enter text here..."></textarea>
<button onclick="base64Encode()">Base64 Encode</button>
<button onclick="base64Decode()">Base64 Decode</button>
<button onclick="urlEncode()">URL Encode</button> 
<button onclick="urlDecode()">URL Decode</button> 
<button onclick="md5Hash()">MD5 Hash</button> 
<button onclick="sha256Hash()">SHA256 Hash</button>
<button onclick="toUpperCaseText()">UPPERCASE</button> 
<button onclick="toLowerCaseText()">lowercase</button> 
<button onclick="selectAndCopyOutputSilent()">Copy</button>
<button onclick="clearOutput()">Clear</button>
<div class="result" id="output"></div>
</div>
<script>
function getInput(){ return document.getElementById("inputText").value; }
function setOutput(data){ document.getElementById("output").innerText = data; }

// Base64
function base64Encode(){ setOutput(btoa(getInput())); }
function base64Decode(){ try{ setOutput(atob(getInput())); }catch{ setOutput("âŒ Invalid Base64"); }}

// URL
function urlEncode(){ setOutput(encodeURIComponent(getInput())); }
function urlDecode(){ setOutput(decodeURIComponent(getInput())); }

// MD5
function md5Hash(){ setOutput(hex_md5(getInput())); }

// SHA256
async function sha256Hash(){
  const msg = new TextEncoder().encode(getInput());
  const hashBuffer = await crypto.subtle.digest("SHA-256", msg);
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  const hashHex = hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
  setOutput(hashHex);
}

// Case
function toUpperCaseText(){ setOutput(getInput().toUpperCase()); }
function toLowerCaseText(){ setOutput(getInput().toLowerCase()); }

// Copy
function selectAndCopyOutputSilent() {
  const outputEl = document.getElementById("output");

  if (!outputEl) return;

  if (outputEl.select) {
    outputEl.select();
    outputEl.setSelectionRange(0, 99999); // mobile support
  } else if (window.getSelection) {
    const range = document.createRange();
    range.selectNodeContents(outputEl);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
  }

  try {
    document.execCommand('copy');
  } catch (e) {
    // silently fail
  }
}
// Clear
function clearOutput() {
  const outputEl = document.getElementById("output");
  if (outputEl.value !== undefined) {
    outputEl.value = "";
  } else {
    outputEl.textContent = "";
  }
}

/* MD5 Library */
/* eslint-disable */
var hexcase=0;function hex_md5(a){return rstr2hex(rstr_md5(str2rstr_utf8(a)))}function rstr_md5(a){return binl2rstr(binl_md5(rstr2binl(a),8*a.length))}function rstr2hex(c){for(var d,b="",a=c.length,e=0;e<a;e++)d=c.charCodeAt(e),b+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15);return b}function str2rstr_utf8(c){for(var d,b,a="",e=-1;++e<c.length;)d=c.charCodeAt(e),b=e+1<c.length?c.charCodeAt(e+1):0,55296<=d&&56319>=d&&56320<=b&&57343>=b&&(d=65536+((d&1023)<<10)+(b&1023),e++),128>d?a+=String.fromCharCode(d):(2048>d?a+=String.fromCharCode(192|d>>>6,128|d&63):55296<=d&&57343>=d?(a+=String.fromCharCode(240|d>>>18,128|d>>>12&63,128|d>>>6&63,128|d&63)):(a+=String.fromCharCode(224|d>>>12,128|d>>>6&63,128|d&63)));return a}function rstr2binl(b){for(var c=Array(b.length>>2),a=0;a<c.length;a++)c[a]=0;for(a=0;a<8*b.length;a+=8)c[a>>5]|=(255&b.charCodeAt(a/8))<<a%32;return c}function binl2rstr(b){for(var c="",a=0;a<32*b.length;a+=8)c+=String.fromCharCode(b[a>>5]>>>a%32&255);return c}function binl_md5(p,k){p[k>>5]|=128<<k%32;p[14+((k+64>>>9)<<4)]=k;for(var o=1732584193,q=-271733879,r=-1732584194,s=271733878,a=0;a<p.length;a+=16)var t=o,u=q,v=r,w=s,o=md5_ff(o,q,r,s,p[a+0],7,-680876936),s=md5_ff(s,o,q,r,p[a+1],12,-389564586),r=md5_ff(r,s,o,q,p[a+2],17,606105819),q=md5_ff(q,r,s,o,p[a+3],22,-1044525330),o=md5_ff(o,q,r,s,p[a+4],7,-176418897),s=md5_ff(s,o,q,r,p[a+5],12,1200080426),r=md5_ff(r,s,o,q,p[a+6],17,-1473231341),q=md5_ff(q,r,s,o,p[a+7],22,-45705983),o=md5_ff(o,q,r,s,p[a+8],7,1770035416),s=md5_ff(s,o,q,r,p[a+9],12,-1958414417),r=md5_ff(r,s,o,q,p[a+10],17,-42063);o=(o+t)|0;q=(q+u)|0;r=(r+v)|0;s=(s+w)|0;return[o,q,r,s]}function md5_cmn(h,e,d,c,a,f){return((h<<a)|(h>>>32-a))+e+(d^c^f)}function md5_ff(h,e,d,c,a,f,g){return md5_cmn(e&(d^c)^c,h,e,a,f,g)}
</script>
</body>
</html>
